(function(){define(["require","jquery"],function(e){var t;return t=e("jquery"),function(t){var n;return n={init:function(n){return this.each(function(){var r,i,s,o,u,a=this;r=t(this),r.addClass("komoo-map-googlemap"),i=t.extend({element:r.get(0)},t.fn.komooMap.defaults,n),i.width!=null&&r.width(i.width),i.height!=null&&r.height(i.height);if((i!=null?i.type:void 0)==="preview"&&!(i!=null?(s=i.geojson)!=null?(o=s.features)!=null?(u=o[0])!=null?u.geometry:void 0:void 0:void 0:void 0)&&(i!=null?!i.force:!void 0)){r.html(t("<div>").addClass("placeholder").text("Informação geométrica não disponível")),r.parent().parent().find(".see-on-map").hide();return}return e(["core/map/maps"],function(e){var t;t=e.makeMap(i),t.subscribe("features_loaded",function(e){return console.log("features loaded"),r.trigger("features_loaded",e)}),r.data("map",t);if(i.mapType!=null)return t.googleMap.setMapTypeId(i.mapType)})})},edit:function(e){var n;return(n=t(this).data("map"))!=null&&n.editFeature(e),t(this)},geojson:function(e){var n,r;return e==null?(n=t(this).data("map"))!=null?n.getGeoJson():void 0:(r=t(this).data("map"))!=null?r.loadGeoJson(e):void 0},goTo:function(e){var n,r;return(n=t(this).data("map"))!=null&&n.panTo((r=e.position)!=null?r:e.address,e.displayMarker),t(this)},highlight:function(e){var n;return(n=t(this).data("map"))!=null&&n.highlightFeature(e.type,e.id),t(this)},resize:function(){return t(window).resize(),t(this)},refresh:function(){var e;return(e=t(this).data("map"))!=null&&e.refresh(),t(this)},fit:function(){var e;return(e=t(this).data("map"))!=null&&e.fitBounds(),t(this)},center:function(){var e;return e=t(this).data("map"),e!=null&&e.googleMap.setCenter(e!=null?e.features.getCenter():void 0),t(this)},remove:function(){var e;return(e=t(this).data("map"))!=null&&e.remove(),t(this).empty(),t(this).html(""),t(this).remove(),t(this)},clear:function(){var e;return(e=t(this).data("map"))!=null&&e.clear(),t(this)}},t.fn.komooMap=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):typeof e=="object"||!e?n.init.apply(this,arguments):t.error("Method "+e+" does not exist on jQuery.komooMap")},t.fn.komooMap.defaults={type:"editor"}}(t)})}).call(this);