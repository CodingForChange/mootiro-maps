var __hasProp=Object.prototype.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define(["require","jquery","underscore","backbone","text!templates/widgets/_modal_box.html"],function(e){var t,n,r,i,s,o,u;return t=e("jquery"),u=e("underscore"),n=e("backbone"),o=e("text!templates/widgets/_modal_box.html"),s=function(e){var n;if(!t('link[href="'+e+'"]').length)return typeof console!="undefined"&&console!==null&&typeof console.log=="function"&&console.log("Loading css: ",e),n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,document.getElementsByTagName("head")[0].appendChild(n)},r=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=u.template(o),n.prototype.events={"click .close":"close","click .modal-bg":"close"},n.prototype.initialize=function(){var e;return u.bindAll(this),this.tpl_args=u.extend({tile:"",modal_id:"modal-box"},this.options),this.content=(e=this.options.content)!=null?e:"",this.options.width&&(this.width=this.options.width),this.render()},n.prototype.render=function(){var e;return e=this.template(this.tpl_args),this.$el.html(e),t("body").append(this.el),this.$el.find(".content").append(this.content),this.modal=this.$el.find("#"+this.tpl_args.modal_id),this.width!=null&&this.modal.find(".dialog").css("width",this.width),this},n.prototype.open=function(){return this.modal.fadeIn(),this.trigger("open"),this},n.prototype.close=function(){return this.modal.fadeOut(),this.trigger("close"),this},n}(n.View),i=function(e,n,r,i){var s;return this.tabs=e,this.contents=n,this.selectedClass=i||"selected",this.onChange=r||function(e){return{}},t(n).hide(),s=this,t(e).click(function(){return s.to(this),!1}),this.length=t(e).length,this.to(t(e)[0]),this.initialized=!0},i.prototype.to=function(e){var n;t(this.tabs).removeClass(this.selectedClass),t(this.contents).removeClass(this.selectedClass).hide(),n=t(e).attr("href")||t(e).children().attr("href"),t("*[href="+n+"]").parent().addClass(this.selectedClass),t(n).addClass(this.selectedClass).show(),this.current=e;if(this.onChange&&this.initialized)return this.onChange(this)},i.prototype.getCurrentTabIndex=function(){return t(this.tabs).index(this.current)},{loadCss:s,ModalBox:r,Tabs:i}})