(function(){define(["require","i18n","jquery","backbone"],function(e){var t,n,r;return r=e("i18n"),t=e("jquery"),n=e("backbone"),e(["main/views"],function(e){var r,i,s,o;return r=new e.Feedback,t("#feedback-container").append(r.render().$el),o=0,n.on("app::working",function(e){return o++,console.log("a",o),r.display("Working...")}),n.on("app::done",function(e){console.log("b");if(--o===0)return r.close()}),n.trigger("app::working"),s=new e.Header({el:"#header-container"}),i=new e.Footer({el:"#footer-container"})}),e(["main/router","authentication/router","user/router"],function(){return t(function(){return n.history.start({pushState:!0,root:"/"}),n.trigger("app::done")})}),e(["analytics"],function(e){return e.init()}),e(["facebook-jssdk"],function(e){return e.init(typeof KomooNS!="undefined"&&KomooNS!==null?KomooNS.facebookAppId:void 0)}),n.on("map::see-on-map",function(e){return typeof console!="undefined"&&console!==null?console.log("I should display this geojson on map:",e.get("geojson")):void 0}),{start:function(t,n){if(t!=null)return e([t],function(e){return e!=null?typeof e.start=="function"?e.start(n):void 0:void 0})}}})}).call(this);