(function(){define(["require","jquery","underscore"],function(e){var t,n,r,i;return t=e("jquery"),i=e("underscore"),n=function(){function e(e){e==null&&(e={}),this.actionBar=e.actionBar,this.sidebar=e.sidebar,this.mainContent=e.mainContent}return e.prototype.actionBar=null,e.prototype.sidebar=null,e.prototype.mainContent=null,e.prototype.open=function(){var e,n,r;return t("#actionbar").append((e=this.actionBar)!=null?e.$el:void 0),t("#sidebar").append((n=this.sidebar)!=null?n.$el:void 0),t("#main-content").empty(),t("#main-content").append((r=this.mainContent)!=null?r.$el:void 0)},e.prototype.close=function(){var e;return e=function(t){var n,r,s,o;if(!t)return;if(t.subViews){i.each(t.subViews,e);if(t.fields){o=t.fields.slice(0).reverse();for(r=0,s=o.length;r<s;r++)n=o[r],e(n.instance)}t.subViews.length=0}return typeof t.onClose=="function"&&t.onClose(),t.unbind(),t.remove(),delete t.$el,delete t.el,delete t.model,delete t.collection},i([this.actionBar,this.sidebar,this.mainContent]).each(e)},e}(),r=function(){function e(){}return e.prototype.Page=n,e.prototype.currentPage=null,e.prototype.open=function(e){if(!e||e===this.currentPage)return;return this.close(this.currentPage),this.currentPage=e,this.currentPage.open()},e.prototype.close=function(e){e==null&&(e=this.currentPage);if(!e)return;e.close();if(this.currentPage===e)return this.currentPage=null},e}(),new r})}).call(this);