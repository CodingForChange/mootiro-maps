(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","jquery","underscore","backbone","reForm","./models","new_utils","text!templates/authentication/_login.html","text!templates/authentication/_social_button.html","text!templates/widgets/_signup.html"],function(e){var n,r,i,s,o,u,a,f,l,c,h,p,d,v;return n=e("jquery"),v=e("underscore"),r=e("backbone"),h=e("reForm"),l=e("./models"),c=e("new_utils"),f=e("text!templates/authentication/_login.html"),d=e("text!templates/authentication/_social_button.html"),p=e("text!templates/widgets/_signup.html"),u=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.template=v.template(d),n.prototype.initialize=function(){return v.bindAll(this,"render"),this.className=this.options.provider,this.url=this.options.url,this.image_url=this.options.image_url,this.msg=this.options.message,this.provider=this.options.provider},n.prototype.render=function(){var e;return e=this.template({provider:this.provider,url:this.url,image_url:this.image_url,msg:this.msg}),this.$el.html(e),this.$el.addClass(this.className),this},n}(r.View),a=function(e){function r(){r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.tagName="ul",r.prototype.id="external_providers",r.prototype.initialize=function(){return v.bindAll(this,"render"),this.buttons=this.options.buttons},r.prototype.render=function(){var e,t=this;return e=this.buttons,n(this.el).html(""),v.each(e,function(e){var r;return r=new u(e),n(t.el).append(r.render().el)}),this},r}(r.View),o=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=p,n}(h.Widget),i=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.fields=[{name:"email",widget:h.commonWidgets.TextWidget,label:"Email:"},{name:"password",widget:h.commonWidgets.PasswordWidget,label:"Password:"},{name:"signup",widget:o,label:" "}],n}(h.Form),s=function(e){function r(){r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.id="login_box",r.prototype.tagName="section",r.prototype.template=v.template(f),r.prototype.initialize=function(){var e,t,n;return v.bindAll(this,"render"),t={provider:"google",url:dutils.urls.resolve("login_google"),image_url:"/static/img/login-google.png",message:"Log In with Google"},e={provider:"facebook",url:dutils.urls.resolve("login_facebook"),image_url:"/static/img/login-facebook.png",message:"Log In with Facebook"},this.socialBtnsView=new a({buttons:[t,e]}),n=new l.LoginModel({}),this.formView=new i({formId:"form_login",model:n})},r.prototype.render=function(){var e;return e=this.template({}),n(this.el).html(e),this.$el.find(".social_buttons").append(this.socialBtnsView.render().el),this.$el.find(".login_form").append(this.formView.render().el),this},r}(r.View),{LoginView:s}})}).call(this)