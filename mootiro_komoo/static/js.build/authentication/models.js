(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","jquery","underscore","backbone","urls"],function(e){var n,r,i,s,o,u,a;return n=e("jquery"),a=e("underscore"),r=e("backbone"),u=e("urls"),i=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.urlRoot=u.resolve("login_api"),n}(r.Model),s=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.urlRoot=u.resolve("logout_api"),n.prototype.initialize=function(){return a.bindAll(this)},n.prototype.doLogout=function(e){var t=this;return this.set({next:e}),r.sync("read",this,{data:{next:e},success:function(e,t,n){if(t.redirect)return window.location.pathname===t.redirect?window.location.reload():window.location=t.redirect}})},n}(r.Model),o=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.urlRoot=u.resolve("user_api"),n}(r.Model),{LoginModel:i,LogoutModel:s,User:o}})}).call(this);