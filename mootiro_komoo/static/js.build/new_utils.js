var __hasProp=Object.prototype.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define(["require","jquery","underscore","backbone","text!templates/widgets/_modal_box.html"],function(e){var t,n,r,i,s,o;return t=e("jquery"),o=e("underscore"),n=e("backbone"),s=e("text!templates/widgets/_modal_box.html"),i=function(e){var n;if(!t('link[href="'+e+'"]').length)return typeof console!="undefined"&&console!==null&&typeof console.log=="function"&&console.log("Loading css: ",e),n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,document.getElementsByTagName("head")[0].appendChild(n)},r=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=o.template(s),n.prototype.events={"click .close":"close","click .modal-bg":"close"},n.prototype.initialize=function(){var e;return o.bindAll(this),this.tpl_args=o.extend({tile:"",modal_id:"modal-box"},this.options),this.content=(e=this.options.content)!=null?e:"",this.options.width&&(this.width=this.options.width),this.options.onClose&&(this.onClose=this.options.onClose),this.options.onOpen&&(this.onOpen=this.options.onOpen),this.render()},n.prototype.render=function(){var e;return e=this.template(this.tpl_args),this.$el.html(e),t("body").append(this.el),this.$el.find(".content").append(this.content),this.modal=this.$el.find("#"+this.tpl_args.modal_id),this.width!=null&&this.modal.find(".dialog").css("width",this.width),this},n.prototype.open=function(){return this.modal.show(),this.trigger("open"),typeof this.onOpen=="function"&&this.onOpen(),this},n.prototype.close=function(){return this.modal.hide(),this.trigger("close"),typeof this.onClose=="function"&&this.onClose(),this},n.prototype.show=function(){debugger;return typeof console!="undefined"&&console!==null&&console.warn("method show() is deprecated. Use open()."),this.open()},n.prototype.hide=function(){return typeof console!="undefined"&&console!==null&&console.warn("method hide() is deprecated. Use close()."),this.close()},n}(n.View),{loadCss:i,ModalBox:r}})