(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","jquery","underscore","backbone","text!templates/widgets/_pagination.html"],function(e){var n,r,i,s,o;return n=e("jquery"),o=e("underscore"),r=e("backbone"),s=function(n){function r(){r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.template=o.template(e("text!templates/widgets/_pagination.html")),r.prototype.className="pagination",r.prototype.events={"click a.previous":"previousPage","click a.next":"nextPage","keypress .current-page":"goTo"},r.prototype.initialize=function(){return o.bindAll(this),this.listenTo(this.collection,"reset",this.update),this.render()},r.prototype.render=function(){return this.$el.html(this.template(this.collection)),this},r.prototype.update=function(){var e,t;return e=this.collection.currentPage,t=this.collection.totalPages,this.$(".current-page").val(e+1),this.$(".total-pages").text(t),this.$(".previous")[this.isFirstPage()?"addClass":"removeClass"]("disabled"),this.$(".next")[this.isLastPage()?"addClass":"removeClass"]("disabled")},r.prototype.isFirstPage=function(){return this.collection.currentPage===this.collection.firstPage},r.prototype.isLastPage=function(){return this.collection.currentPage===this.collection.totalPages-1},r.prototype.previousPage=function(e){return e!=null&&typeof e.preventDefault=="function"&&e.preventDefault(),this.isFirstPage()||this.collection.requestPreviousPage(),this},r.prototype.nextPage=function(e){return e!=null&&typeof e.preventDefault=="function"&&e.preventDefault(),this.isLastPage()||this.collection.requestNextPage(),this},r.prototype.goTo=function(e){var t;if(e.keyCode!==13)return;t=parseInt(this.$(".current-page").val(),10);if(o.isNaN(t)||t<=0||t>this.collection.totalPages){this.update();return}return this.collection.goTo(t-1)},r}(r.View),i=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="ul",n.prototype.className="list",n.prototype.initialize=function(){return o.bindAll(this),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render),this.listenTo(this.collection,"request",this._loading),this.listenTo(this.collection,"sync",this._loaded),this.ItemView=this.options.ItemView,this.subViews=[],this.collection.pager(),this.render()},n.prototype.render=function(){},n.prototype._loading=function(){return typeof console!="undefined"&&console!==null?console.log("loading..."):void 0},n.prototype._loaded=function(){return typeof console!="undefined"&&console!==null?console.log("loaded"):void 0},n.prototype.addAll=function(){return this.$el.empty(),this.collection.each(this.addOne),this},n.prototype.addOne=function(e){var t;return t=new this.ItemView({model:e}),this.$el.append(t.render().$el),this.subViews.push(t),this},n}(r.View),{Pagination:s,List:i}})}).call(this);