(function(){define(["require","jquery","user/models","user/views","backbone"],function(e){var t,n,r,i,s,o;return t=e("jquery"),s=e("user/models"),o=e("user/views"),n=s.User,r=function(r){var i,s,u,a,f;if(r==null){typeof console!="undefined"&&console!==null&&console.log("User id not specified");return}if(r!=null&&((u=KomooNS.data)!=null?(a=u.user)!=null?a.id:void 0:void 0)===r)i=s=new n(KomooNS.data.user);else if(r!=="me")s=new n,s.id=r,i=s.fetch();else if((f=KomooNS.user)!=null?f.id:void 0)s=new n(KomooNS.user),i=s.fetch();return window.user=s,t.when(i).done(function(){var e,n;return t("#action-bar").empty(),e=new o.Profile({model:s,el:"#main-content"}),n=new o.Sidebar({model:s,el:"#sidebar"})}).fail(function(){var t;return t=e("backbone"),t.trigger("main::notfound")}),!0},i=function(){},{start:i,render:r}})}).call(this);