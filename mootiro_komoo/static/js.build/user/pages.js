(function(){define(["require","jquery","backbone","page_manager","./models","./views"],function(e){var t,n,r,i,s;return t=e("jquery"),n=e("backbone"),i=e("page_manager"),r=function(t){var r,i;if(t==null){typeof console!="undefined"&&console!==null&&console.log("User id not specified");return}return r=e("./models").User,i=new r,i.id=t,i.on("request",function(e){return n.trigger("app::working",e)}),i.on("sync",function(e,t,r){return n.trigger("app::done",e)}),i.on("error",function(e,t){if(t.status!=null)return n.trigger("app::done",e)}),i},s={render:function(n){var s,o,u;return u=e("./views"),s=new t.Deferred,o=r(n),o.fetch().done(function(){var e;return window.user=o,t("#action-bar").empty(),e=new i.Page({sidebar:new u.Sidebar({model:o}),mainContent:new u.Profile({model:o})}),i.open(e),s.resolve()}).fail(function(e){return s.reject(e)}),s.promise()}},{getUser:r,profile:s}})}).call(this);