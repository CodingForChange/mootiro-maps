(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","jquery","backbone","core/page_manager","./views"],function(e){var n,r,i,s,o,u;return n=e("jquery"),r=e("backbone"),o=e("core/page_manager"),u=e("./views"),s=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){var e,t,r;n.__super__.initialize.apply(this,arguments),this.mode=(t=this.options.mode)!=null?t:"view",this.id="user::profile::"+this.model.id,e={model:this.model,mode:this.mode};if(((r=o.currentPage)!=null?r.id:void 0)!==this.id)return this.setViews({actionBar:new u.ActionBar(e),sidebar:new u.Sidebar(e),mainContent:new u.Profile(e)})},n.prototype.open=function(){var e;if(((e=o.currentPage)!=null?e.id:void 0)===this.id){o.currentPage.setMode(this.mode);return}return n.__super__.open.apply(this,arguments)},n.prototype.setMode=function(e){var t,n,r,i,s;if(this.mode===e)return;i=this._views;for(n=0,r=i.length;n<r;n++)t=i[n],(s=t.instance)!=null&&typeof s.setMode=="function"&&s.setMode(e);this.mode=e;if(e===null)return this.model.view()},n}(o.Page),i=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.options.mode="edit",n.__super__.initialize.apply(this,arguments)},n}(s),{Profile:s,Edit:i}})}).call(this);