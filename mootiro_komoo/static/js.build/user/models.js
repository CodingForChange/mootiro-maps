(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","underscore","backbone","main/mixins","urls","./collections"],function(e){var n,r,i,s,o;return o=e("underscore"),n=e("backbone"),r=e("main/mixins").PermissionMixin,s=e("urls"),i=function(r){function i(){i.__super__.constructor.apply(this,arguments)}return t(i,r),i.prototype.urlRoot=s.resolve("user_api"),i.prototype.defaults={about_me:""},i.prototype.permissions={edit:function(e){return e instanceof i&&(e.isSuperuser()||e.get("id")===this.get("id"))}},i.prototype.getUpdates=function(){var t;return this.updates!=null?this.updates:(t=e("./collections").PaginatedUpdates,this.updates=new t([],{user:this}),window.collection=this.updates,this.updates)},i.prototype.goToProfile=function(){return n.trigger("user::profile",this.id)},i.prototype.edit=function(){return n.trigger("user::edit",this.id)},i.prototype.isSuperuser=function(){return!1},i}(n.Model),o.extend(i.prototype,r),{User:i}})}).call(this);