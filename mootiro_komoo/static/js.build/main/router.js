(function(){var e=Object.prototype.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["require","underscore","backbone","./pages"],function(e){var n,r,i,s;return s=e("underscore"),n=e("backbone"),i=e("./pages"),r=function(e){function r(){r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.routes={"":"root"},r.prototype.initialize=function(){return s.bindAll(this),this.bindExternalEvents()},r.prototype.bindExternalEvents=function(){return n.on("main::root",this.root),n.on("main::error",this.error)},r.prototype.root=function(){return i.root.render(),this.navigate("")},r.prototype.error=function(e,t){return i.error.render(),alert(""+e+" "+t+" <TODO: render the error page>")},r}(n.Router),new r})}).call(this);