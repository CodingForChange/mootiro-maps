<html>
  <head>
    <script type="text/javascript" src="test_config.js"></script>
    <script type="text/javascript" data-main="" src="../../../main/static/lib/require.js"></script>
    <link rel="stylesheet" href="../../../main/static/lib/qunit/qunit.css" type="text/css" media="screen" />
    <script type="text/javascript" src="../../../main/static/lib/qunit/qunit.js"></script>

    <script type="text/javascript">
      require(['map/features'], function (features){

        test('Basic requirements', function () {
          expect(3);
          ok(Function.call, 'Function.call()');
          ok(Object.create, 'Object.create()');
          ok(google.maps, 'Google maps API');
        });


        test('Get geoJson geometry from feature', function () {
          expect(1);
          var coordinates = [1, 2];
          var point = {
          getGeometryType: function () { return 'Point'; },
          getCoordinates: function () { return coordinates },
          getGeoJson: function () { return {
            type: this.getGeometryType(),
            coordinates: this.getCoordinates() }}
        };
        var feature = new features.Feature();
          var geometry = {'type': 'Point', 'coordinates': coordinates};
          feature.setGeometry(point);
          deepEqual(feature.getGeoJsonGeometry(), geometry,
              'Should return the geometry containing the coordinates it received');
        });
      });
    </script>

  </head>
  <body>
    <h1 id="qunit-header">komoo.geometries</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
  </body>
</html>
