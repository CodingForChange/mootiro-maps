<html>
  <head>
    <script src="http://maps.google.com/maps/api/js?sensor=false&libraries=drawing&language=pt-br"></script>
    <script src="/static/lib/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="/static/js/multimarker.js"></script>
    <script type="text/javascript" src="/static/js/features.js"></script>
    <link rel="stylesheet" href="/static/lib/qunit/qunit.css" type="text/css" media="screen" />
    <script type="text/javascript" src="/static/lib/qunit/qunit.js"></script>

    <script type="text/javascript">
      $(document).ready(function (){

        test('Basic requirements', function () {
          expect(4);
          ok(Function.call, 'Function.call()');
          ok(Object.create, 'Object.create()');
          ok(google.maps, 'Google maps API');
          ok($, 'JQuery');
        });


        test('Get geoJson geometry from feature', function () {
          expect(1);
          var coordinates = [1, 2];
	  var point = {
	      getGeometryType: function () { return 'Point'; },
	      getCoordinates: function () { return coordinates }
	  };
	  var feature = new komoo.features.Feature();
          var geometry = {'type': 'Point', 'coordinates': coordinates};
          feature.setGeometry(point);
          deepEqual(feature.getGeoJsonGeometry(), geometry,
              'Should return the geometry containing the coordinates it received');
        });
      });
    </script>

  </head>
  <body>
    <h1 id="qunit-header">komoo.geometries</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
  </body>
</html>
